# https://github.com/zimbatm/direnv

use_ruby() {
  local ruby_ver=$1
  local ruby_dir=$2

  export GEM_HOME=$HOME/.gem/ruby/$ruby_ver
  export GEM_PATH=$HOME/.gem/ruby/$ruby_ver
  export BUNDLE_BIN=$HOME/.gem/ruby/$ruby_ver/bin

  path_add MANPATH "$ruby_dir/share/man"
  PATH_add "$ruby_dir/bin"
  PATH_add "$GEM_HOME/bin"
  PATH_add "$BUNDLE_BIN"
}

use_python() {
  local python_ver=$1
  local python_dir=$2

  local python_bin=$python_dir/bin
  local python_shims=$HOME/.pyenv/shims

  unset PYTHONHOME
  export PYENV_ROOT=$HOME/.pyenv
  export PYENV_VERSION=$python_ver

  path_add MANPATH "$python_dir/share/man"
  PATH_add "$python_shims"
  PATH_add "$python_bin"
}

use_homebrew() {
  PATH_add "$local_path/sbin"
  PATH_add "$local_path/bin"

  export HOMEBREW_PATH=$local_path
  export HOMEBREW_GITHUB_API_TOKEN=$hb_token
}

use_node() {
  export NODE_HOME=$local_path
  export NODE_PATH=$local_path/lib/node_modules
}

use_sublime() {
  local subl_path='/Applications/Sublime Text.app/Contents/SharedSupport/bin'
  PATH_add "$subl_path"
  export EDITOR="${subl_path}/subl -w -n"
}

use_atom() {
  export EDITOR="atom -n"
}

### ruby
local rb_version=2.2.3
# use ruby $rb_version /usr/local/Cellar/ruby/$rb_version
use ruby $rb_version $HOME/.rubies/ruby-$rb_version

### python
# local py_version=2.7.10
local py_version=3.4.3
use python $py_version $HOME/.pyenv/versions/$py_version

### node.js
use node

### homebrew
local hb_token="7064c85309368eee1e27efcfa4c815128ed3ab1f"
local local_path=/usr/local
use homebrew

### editor
use atom
# use sublime
